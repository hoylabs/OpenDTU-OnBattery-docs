
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Software for ESP32 to talk to Hoymiles Inverters and battery peripherals" name="description"/>
<meta content="OpenDTU Community" name="author"/>
<link href="../language_pack/" rel="prev"/>
<link href="../web_api/" rel="next"/>
<link href="../../favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.49" name="generator"/>
<title>MQTT Topics - OpenDTU-OnBattery Documentation</title>
<link href="../../assets/stylesheets/main.6f8fc17f.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></link></head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#mqtt-topics">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="OpenDTU-OnBattery Documentation" class="md-header__button md-logo" data-md-component="logo" href="../.." title="OpenDTU-OnBattery Documentation">
<img alt="logo" src="../../assets/images/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            OpenDTU-OnBattery Documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              MQTT Topics
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg>
</label>
<input aria-label="Switch to system preference" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/hoylabs/OpenDTU-OnBattery" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    OpenDTU-OnBattery
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
          
  
  Home

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../hardware/">
          
  
  Hardware

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../">
          
  
  Firmware

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../3rd_party/opendtu_fusion/">
          
  
  3rd Party

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="OpenDTU-OnBattery Documentation" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="OpenDTU-OnBattery Documentation">
<img alt="logo" src="../../assets/images/logo.png"/>
</a>
    OpenDTU-OnBattery Documentation
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/hoylabs/OpenDTU-OnBattery" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    OpenDTU-OnBattery
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Home
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Home
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../safety/">
<span class="md-ellipsis">
    Safety
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/">
<span class="md-ellipsis">
    Hardware Support
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Firmware Installation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../troubleshooting/">
<span class="md-ellipsis">
    Troubleshooting
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../faq/">
<span class="md-ellipsis">
    Frequently Asked Questions
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Hardware
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Hardware
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/">
<span class="md-ellipsis">
    Hardware Support
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/inverter_overview/">
<span class="md-ellipsis">
    Inverter Overview
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-ellipsis">
    ESP32 Boards
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            ESP32 Boards
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/recommendations/">
<span class="md-ellipsis">
    Selecting a Board
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/esp32s3_devkit/">
<span class="md-ellipsis">
    ESP32-S3 DevKit
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/esp32_devkit/">
<span class="md-ellipsis">
    ESP32 DevKit
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/esp32nodemcu_38pin/">
<span class="md-ellipsis">
    ESP32 NodeMCU 38 pin
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/olimexpoeiso/">
<span class="md-ellipsis">
    Olimex ESP32-POE-ISO
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
<span class="md-ellipsis">
    RF Modules
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
            RF Modules
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/nrf24l01plus/">
<span class="md-ellipsis">
    NRF24L01 Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/cmt2300a/">
<span class="md-ellipsis">
    CMT2300A Module
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/display/">
<span class="md-ellipsis">
    Displays
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/limitations/">
<span class="md-ellipsis">
    Limitations
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/victron_charge_controllers/">
<span class="md-ellipsis">
    Victron Charge Controllers
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/vedirect/">
<span class="md-ellipsis">
    VE.Direct
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
<span class="md-ellipsis">
    Batteries
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_9">
<span class="md-nav__icon md-icon"></span>
            Batteries
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_9_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_9_1" id="__nav_2_9_1_label" tabindex="0">
<span class="md-ellipsis">
    JK BMS
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_9_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_9_1">
<span class="md-nav__icon md-icon"></span>
            JK BMS
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/jkbms/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/jkbms/models_b/">
<span class="md-ellipsis">
    JK-B* Models
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../hardware/jkbms/models_pb/">
<span class="md-ellipsis">
    JK-PB* Models
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-ellipsis">
    Firmware
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Firmware
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
<span class="md-ellipsis">
    Installation
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
            Installation
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Firmware Installation
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../flash_esp/">
<span class="md-ellipsis">
    Flash ESP32
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../webinstall/">
<span class="md-ellipsis">
    Community WebFlasher
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../wifi_setup/">
<span class="md-ellipsis">
    Wi-Fi Setup
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-ellipsis">
    Dynamic Power Limiter
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            Dynamic Power Limiter
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../dpl/">
<span class="md-ellipsis">
    Introduction
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../solar_passthrough/">
<span class="md-ellipsis">
    (Full) Solar-Passthrough
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../battery_interface/">
<span class="md-ellipsis">
    Battery Interface
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
<span class="md-ellipsis">
    Web UI
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            Web UI
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/login/">
<span class="md-ellipsis">
    Login
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_2" id="__nav_3_5_2_label" tabindex="0">
<span class="md-ellipsis">
    Live View
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_5_2">
<span class="md-nav__icon md-icon"></span>
            Live View
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/live_view/">
<span class="md-ellipsis">
    Main
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/live_view_info/">
<span class="md-ellipsis">
    Inverter Info
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/live_view_eventlog/">
<span class="md-ellipsis">
    Eventlog
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/live_view_power/">
<span class="md-ellipsis">
    Power Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/live_view_limit/">
<span class="md-ellipsis">
    Limit Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/live_view_gridprofile/">
<span class="md-ellipsis">
    Grid Profile
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_3" id="__nav_3_5_3_label" tabindex="0">
<span class="md-ellipsis">
    Settings
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_5_3">
<span class="md-nav__icon md-icon"></span>
            Settings
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/network_settings/">
<span class="md-ellipsis">
    Network Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/ntp_settings/">
<span class="md-ellipsis">
    NTP Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/mqtt_settings/">
<span class="md-ellipsis">
    MQTT Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/inverter_settings/">
<span class="md-ellipsis">
    Inverter Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/security_settings/">
<span class="md-ellipsis">
    Security Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/dtu_settings/">
<span class="md-ellipsis">
    DTU Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/device_settings/">
<span class="md-ellipsis">
    Device-Manager
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/dpl/">
<span class="md-ellipsis">
    Dynamic Power Limiter (DPL)
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5_3_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_3_9" id="__nav_3_5_3_9_label" tabindex="0">
<span class="md-ellipsis">
    Battery
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_3_9_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_5_3_9">
<span class="md-nav__icon md-icon"></span>
            Battery
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/battery_settings/">
<span class="md-ellipsis">
    Battery Settings
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/battery_settings_jkbms/">
<span class="md-ellipsis">
    JK BMS Battery Provider
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/battery_settings_mqtt/">
<span class="md-ellipsis">
    MQTT Battery Provider
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/config_settings/">
<span class="md-ellipsis">
    Config Management
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/firmware_upgrade/">
<span class="md-ellipsis">
    Firmware Upgrade
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/device_reboot/">
<span class="md-ellipsis">
    Device Reboot
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_4" id="__nav_3_5_4_label" tabindex="0">
<span class="md-ellipsis">
    Info
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_5_4">
<span class="md-nav__icon md-icon"></span>
            Info
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/system_info/">
<span class="md-ellipsis">
    System Info
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/network_info/">
<span class="md-ellipsis">
    Network Info
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/ntp_info/">
<span class="md-ellipsis">
    NTP Information
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/mqtt_info/">
<span class="md-ellipsis">
    MQTT Information
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/console/">
<span class="md-ellipsis">
    Console
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configuration/about/">
<span class="md-ellipsis">
    About
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../update/">
<span class="md-ellipsis">
    Firmware Update
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../device_profiles/">
<span class="md-ellipsis">
    Device Profiles
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../language_pack/">
<span class="md-ellipsis">
    Language Packs
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    MQTT Topics
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    MQTT Topics
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#general-topics">
<span class="md-ellipsis">
      General topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inverter-total-topics">
<span class="md-ellipsis">
      Inverter total topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inverter-specific-topics">
<span class="md-ellipsis">
      Inverter specific topics
    </span>
</a>
<nav aria-label="Inverter specific topics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ac-channel-global-specific-topics">
<span class="md-ellipsis">
      AC channel / global specific topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dc-input-channel-topics">
<span class="md-ellipsis">
      DC input channel topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inverter-limit-specific-topics">
<span class="md-ellipsis">
      Inverter limit specific topics
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#victron-mppt-topics">
<span class="md-ellipsis">
      Victron MPPT topics
    </span>
</a>
<nav aria-label="Victron MPPT topics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#general">
<span class="md-ellipsis">
      General
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#battery-output">
<span class="md-ellipsis">
      Battery output
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solar-input">
<span class="md-ellipsis">
      Solar input
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pylontech-battery-topics">
<span class="md-ellipsis">
      (Pylontech) Battery topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#huawei-ac-charger-topics">
<span class="md-ellipsis">
      Huawei AC charger topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#power-limiter-topics">
<span class="md-ellipsis">
      Power Limiter topics
    </span>
</a>
<nav aria-label="Power Limiter topics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#general_1">
<span class="md-ellipsis">
      General
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#battery-thresholds">
<span class="md-ellipsis">
      Battery Thresholds
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mode">
<span class="md-ellipsis">
      Mode
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#timeout-counter">
<span class="md-ellipsis">
      Timeout Counter
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../web_api/">
<span class="md-ellipsis">
    Web API
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_11" id="__nav_3_11_label" tabindex="0">
<span class="md-ellipsis">
    Howtos
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_11_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_11">
<span class="md-nav__icon md-icon"></span>
            Howtos
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../howto/serial_console/">
<span class="md-ellipsis">
    Access the serial console
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../howto/migrate_generic/">
<span class="md-ellipsis">
    Migrate 'generic' to 'generic_esp32'
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../howto/upgrade_8mb/">
<span class="md-ellipsis">
    Upgrade to 2024.08.18 or newer
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../howto/upgrade_upstream/">
<span class="md-ellipsis">
    Upgrade from OpenDTU
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_12" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_12" id="__nav_3_12_label" tabindex="0">
<span class="md-ellipsis">
    Development
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_12_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_12">
<span class="md-nav__icon md-icon"></span>
            Development
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../compile_webapp/">
<span class="md-ellipsis">
    Working with the WebApp
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../compile_vscode/">
<span class="md-ellipsis">
    Compile with Visual Studio Code
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../compile_cli/">
<span class="md-ellipsis">
    Compile on CLI
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../license/">
<span class="md-ellipsis">
    License
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    3rd Party
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            3rd Party
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../3rd_party/opendtu_fusion/">
<span class="md-ellipsis">
    OpenDTU Fusion
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../3rd_party/related/">
<span class="md-ellipsis">
    Related Projects
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../3rd_party/cases/">
<span class="md-ellipsis">
    Cases
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../3rd_party/pcb/">
<span class="md-ellipsis">
    PCB Layouts
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../3rd_party/prometheus_database/">
<span class="md-ellipsis">
    Using Prometheus
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#general-topics">
<span class="md-ellipsis">
      General topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inverter-total-topics">
<span class="md-ellipsis">
      Inverter total topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inverter-specific-topics">
<span class="md-ellipsis">
      Inverter specific topics
    </span>
</a>
<nav aria-label="Inverter specific topics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ac-channel-global-specific-topics">
<span class="md-ellipsis">
      AC channel / global specific topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dc-input-channel-topics">
<span class="md-ellipsis">
      DC input channel topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inverter-limit-specific-topics">
<span class="md-ellipsis">
      Inverter limit specific topics
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#victron-mppt-topics">
<span class="md-ellipsis">
      Victron MPPT topics
    </span>
</a>
<nav aria-label="Victron MPPT topics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#general">
<span class="md-ellipsis">
      General
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#battery-output">
<span class="md-ellipsis">
      Battery output
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solar-input">
<span class="md-ellipsis">
      Solar input
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pylontech-battery-topics">
<span class="md-ellipsis">
      (Pylontech) Battery topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#huawei-ac-charger-topics">
<span class="md-ellipsis">
      Huawei AC charger topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#power-limiter-topics">
<span class="md-ellipsis">
      Power Limiter topics
    </span>
</a>
<nav aria-label="Power Limiter topics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#general_1">
<span class="md-ellipsis">
      General
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#battery-thresholds">
<span class="md-ellipsis">
      Battery Thresholds
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mode">
<span class="md-ellipsis">
      Mode
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#timeout-counter">
<span class="md-ellipsis">
      Timeout Counter
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/hoylabs/OpenDTU-OnBattery-docs/edit/main/docs/firmware/mqtt_topics.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<a class="md-content__button md-icon" href="https://github.com/hoylabs/OpenDTU-OnBattery-docs/raw/main/docs/firmware/mqtt_topics.md" title="View source of this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg>
</a>
<h1 id="mqtt-topics">MQTT Topics</h1>
<p>The base topic, as configured in the web GUI is prepended to all following topics.</p>
<h2 id="general-topics">General topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dtu/ip</code></td>
<td>R</td>
<td>IP address of OpenDTU-OnBattery</td>
<td>IP address</td>
</tr>
<tr>
<td><code>dtu/hostname</code></td>
<td>R</td>
<td>Current hostname of the dtu (as set in web GUI)</td>
<td></td>
</tr>
<tr>
<td><code>dtu/rssi</code></td>
<td>R</td>
<td>Wi-Fi network quality</td>
<td>db value</td>
</tr>
<tr>
<td><code>dtu/status</code></td>
<td>R</td>
<td>Indicates whether OpenDTU-OnBattery network is reachable</td>
<td>online /  offline</td>
</tr>
<tr>
<td><code>dtu/temperature</code></td>
<td>R</td>
<td>Temperature of the ESP32</td>
<td>°C</td>
</tr>
<tr>
<td><code>dtu/uptime</code></td>
<td>R</td>
<td>Time in seconds since startup</td>
<td>seconds</td>
</tr>
<tr>
<td><code>dtu/heap/free</code></td>
<td>R</td>
<td>Available heap</td>
<td>Bytes</td>
</tr>
<tr>
<td><code>dtu/heap/size</code></td>
<td>R</td>
<td>Total heap size</td>
<td>Bytes</td>
</tr>
<tr>
<td><code>dtu/heap/minfree</code></td>
<td>R</td>
<td>Lowest level of free heap since boot</td>
<td>Bytes</td>
</tr>
<tr>
<td><code>dtu/heap/maxalloc</code></td>
<td>R</td>
<td>Largest block of heap that can be allocated at once</td>
<td>Bytes</td>
</tr>
</tbody>
</table>
<h2 id="inverter-total-topics">Inverter total topics</h2>
<p>Enabled inverter means, that only inverters with "Poll inverter data" enabled are considered.</p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ac/power</code></td>
<td>R</td>
<td>Sum of AC active power of all enabled inverters</td>
<td>W</td>
</tr>
<tr>
<td><code>ac/yieldtotal</code></td>
<td>R</td>
<td>Sum of energy converted to AC since reset watt hours of all enabled inverters</td>
<td>Kilo watt hours (kWh)</td>
</tr>
<tr>
<td><code>ac/yieldday</code></td>
<td>R</td>
<td>Sum of energy converted to AC per day in watt hours of all enabled inverters</td>
<td>Watt hours (Wh)</td>
</tr>
<tr>
<td><code>ac/is_valid</code></td>
<td>R</td>
<td>Indicator whether all enabled inverters where reachable</td>
<td>0 or 1</td>
</tr>
<tr>
<td><code>dc/power</code></td>
<td>R</td>
<td>Sum of DC power of all enabled inverters</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>dc/irradiation</code></td>
<td>R</td>
<td>Produced power of all enabled inverter stripes with defined irradiation settings divided by sum of all enabled inverters irradiation</td>
<td>%</td>
</tr>
<tr>
<td><code>dc/is_valid</code></td>
<td>R</td>
<td>Indicator whether all enabled inverters where reachable</td>
<td>0 or 1</td>
</tr>
</tbody>
</table>
<h2 id="inverter-specific-topics">Inverter specific topics</h2>
<p>serial will be replaced with the serial number of the inverter.</p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[serial]/name</code></td>
<td>R</td>
<td>Name of the inverter as configured in web GUI</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/device/bootloaderversion</code></td>
<td>R</td>
<td>Bootloader version of the inverter</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/device/fwbuildversion</code></td>
<td>R</td>
<td>Firmware version of the inverter</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/device/fwbuilddatetime</code></td>
<td>R</td>
<td>Build date / time of inverter firmware</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/device/hwpartnumber</code></td>
<td>R</td>
<td>Hardware part number of the inverter</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/device/hwversion</code></td>
<td>R</td>
<td>Hardware version of the inverter</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/radio/tx_request</code></td>
<td>R</td>
<td>Amount of sent packet requests</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/radio/tx_re_request</code></td>
<td>R</td>
<td>Amount of sent fragment resend requests</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/radio/rx_success</code></td>
<td>R</td>
<td>Amount of successfull received packets</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/radio/rx_fail_nothing</code></td>
<td>R</td>
<td>Amount of failed packets, nothing was received</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/radio/rx_fail_partial</code></td>
<td>R</td>
<td>Amount of failed packets, some fragments where missing</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/radio/rx_fail_corrupt</code></td>
<td>R</td>
<td>Amount of failed packets, payload corrupt</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/radio/rssi</code></td>
<td>R</td>
<td>RSSI of last received packet (Inverters with NRF24 module only support 2 states. &gt; -64dBm and &lt; -64dBm. In the first case -30 dBm is shown, in the second one -80 dBm)</td>
<td>dBm</td>
</tr>
<tr>
<td><code>[serial]/status/reachable</code></td>
<td>R</td>
<td>Indicates whether the inverter is reachable</td>
<td>0 or 1</td>
</tr>
<tr>
<td><code>[serial]/status/producing</code></td>
<td>R</td>
<td>Indicates whether the inverter is producing AC power</td>
<td>0 or 1</td>
</tr>
<tr>
<td><code>[serial]/status/last_update</code></td>
<td>R</td>
<td>Unix timestamp of last inverter statistics update</td>
<td>seconds since JAN 01 1970 (UTC)</td>
</tr>
</tbody>
</table>
<h3 id="ac-channel-global-specific-topics">AC channel / global specific topics</h3>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[serial]/0/current</code></td>
<td>R</td>
<td>AC current in ampere</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>[serial]/0/efficiency</code></td>
<td>R</td>
<td>Ratio AC Power over DC Power in percent</td>
<td>%</td>
</tr>
<tr>
<td><code>[serial]/0/frequency</code></td>
<td>R</td>
<td>AC frequency in hertz</td>
<td>Hertz (Hz)</td>
</tr>
<tr>
<td><code>[serial]/0/power</code></td>
<td>R</td>
<td>AC active power in watts</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>[serial]/0/powerdc</code></td>
<td>R</td>
<td>DC power in watts</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>[serial]/0/powerfactor</code></td>
<td>R</td>
<td>Power factor in percent</td>
<td>%</td>
</tr>
<tr>
<td><code>[serial]/0/reactivepower</code></td>
<td>R</td>
<td>AC reactive power in VAr</td>
<td>VAr</td>
</tr>
<tr>
<td><code>[serial]/0/temperature</code></td>
<td>R</td>
<td>Temperature of inverter in degree celsius</td>
<td>Degree Celsius (°C)</td>
</tr>
<tr>
<td><code>[serial]/0/voltage</code></td>
<td>R</td>
<td>AC voltage in volt</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>[serial]/0/yieldday</code></td>
<td>R</td>
<td>Energy converted to AC per day in watt hours</td>
<td>Watt hours (Wh)</td>
</tr>
<tr>
<td><code>[serial]/0/yieldtotal</code></td>
<td>R</td>
<td>Energy converted to AC since reset watt hours</td>
<td>Kilo watt hours (kWh)</td>
</tr>
</tbody>
</table>
<h3 id="dc-input-channel-topics">DC input channel topics</h3>
<p>[1-4] represents the different inputs. The amount depends on the inverter model.</p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[serial]/[1-4]/current</code></td>
<td>R</td>
<td>DC current of specific input in ampere</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>[serial]/[1-4]/name</code></td>
<td>R</td>
<td>Name of the DC input channel as configured in web GUI</td>
<td></td>
</tr>
<tr>
<td><code>[serial]/[1-4]/irradiation</code></td>
<td>R</td>
<td>Ratio DC Power over set maximum power (in web GUI)</td>
<td>%</td>
</tr>
<tr>
<td><code>[serial]/[1-4]/power</code></td>
<td>R</td>
<td>DC power of specific input in watt</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>[serial]/[1-4]/voltage</code></td>
<td>R</td>
<td>DC voltage of specific input in volt</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>[serial]/[1-4]/yieldday</code></td>
<td>R</td>
<td>Energy converted to AC per day on specific input</td>
<td>Watt hours (Wh)</td>
</tr>
<tr>
<td><code>[serial]/[1-4]/yieldtotal</code></td>
<td>R</td>
<td>Energy converted to AC since reset on specific input</td>
<td>Kilo watt hours (kWh)</td>
</tr>
</tbody>
</table>
<h3 id="inverter-limit-specific-topics">Inverter limit specific topics</h3>
<p>cmd topics are used to set values. Status topics are updated from values set in the inverter.</p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[serial]/status/limit_relative</code></td>
<td>R</td>
<td>Current applied production limit of the inverter</td>
<td>% of total possible output</td>
</tr>
<tr>
<td><code>[serial]/status/limit_absolute</code></td>
<td>R</td>
<td>Current applied production limit of the inverter</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>[serial]/cmd/limit_persistent_relative</code></td>
<td>W</td>
<td>Set the inverter limit as a percentage of total production capability. The  value will survive the night without power. The updated value will show up in the web GUI and limit_relative topic immediately.</td>
<td>%</td>
</tr>
<tr>
<td><code>[serial]/cmd/limit_persistent_absolute</code></td>
<td>W</td>
<td>Set the inverter limit as a absolute value. The  value will survive the night without power. The updated value will set immediately within the inverter but show up in the web GUI and limit_relative topic after around 4 minutes. If you are using a already known inverter (known Hardware ID), the updated value will show up within a few seconds.</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>[serial]/cmd/limit_nonpersistent_relative</code></td>
<td>W</td>
<td>Set the inverter limit as a percentage of total production capability. The  value will reset to the last persistent value at night without power. The updated value will show up in the web GUI and limit_relative topic immediately. The value must be published non-retained, otherwise it will be ignored!</td>
<td>%</td>
</tr>
<tr>
<td><code>[serial]/cmd/limit_nonpersistent_absolute</code></td>
<td>W</td>
<td>Set the inverter limit as a absolute value. The  value will reset to the last persistent value at night without power. The updated value will set immediately within the inverter but show up in the web GUI and limit_relative topic after around 4 minutes. If you are using a already known inverter (known Hardware ID), the updated value will show up within a few seconds. The value must be published non-retained, otherwise it will be ignored!</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>[serial]/cmd/power</code></td>
<td>W</td>
<td>Turn the inverter on (1) or off (0)</td>
<td>0 or 1</td>
</tr>
<tr>
<td><code>[serial]/cmd/reset_rf_stats</code></td>
<td>W</td>
<td>Reset the radio statistics</td>
<td>1</td>
</tr>
<tr>
<td><code>[serial]/cmd/restart</code></td>
<td>W</td>
<td>Restarts the inverters (also resets YieldDay)</td>
<td>1</td>
</tr>
</tbody>
</table>
<h2 id="victron-mppt-topics">Victron MPPT topics</h2>
<h3 id="general">General</h3>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>victron/[serial]/PID</code></td>
<td>R</td>
<td>Product description</td>
<td>text</td>
</tr>
<tr>
<td><code>victron/[serial]/SER</code></td>
<td>R</td>
<td>Serial number</td>
<td>text</td>
</tr>
<tr>
<td><code>victron/[serial]/FW</code></td>
<td>R</td>
<td>Firmware number</td>
<td>int</td>
</tr>
<tr>
<td><code>victron/[serial]/LOAD</code></td>
<td>R</td>
<td>Load output state</td>
<td>ON /  OFF</td>
</tr>
<tr>
<td><code>victron/[serial]/CS</code></td>
<td>R</td>
<td>State of operation</td>
<td>text, e.g., "Bulk"</td>
</tr>
<tr>
<td><code>victron/[serial]/ERR</code></td>
<td>R</td>
<td>Error code</td>
<td>text, e.g., "No error"</td>
</tr>
<tr>
<td><code>victron/[serial]/OR</code></td>
<td>R</td>
<td>Off reason</td>
<td>text, e.g., "Not off"</td>
</tr>
<tr>
<td><code>victron/[serial]/MPPT</code></td>
<td>R</td>
<td>Tracker operation mode</td>
<td>text, e.g., "MPP Tracker active"</td>
</tr>
<tr>
<td><code>victron/[serial]/HSDS</code></td>
<td>R</td>
<td>Day sequence number (0...364)</td>
<td>int in days</td>
</tr>
</tbody>
</table>
<h3 id="battery-output">Battery output</h3>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>victron/[serial]/V</code></td>
<td>R</td>
<td>Voltage</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>victron/[serial]/I</code></td>
<td>R</td>
<td>Current</td>
<td>Ampere (A)</td>
</tr>
</tbody>
</table>
<h3 id="solar-input">Solar input</h3>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>victron/[serial]/VPV</code></td>
<td>R</td>
<td>Voltage</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>victron/[serial]/PPV</code></td>
<td>R</td>
<td>Power</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>victron/[serial]/H19</code></td>
<td>R</td>
<td>Yield total (user resettable counter)</td>
<td>Kilo watt hours (kWh)</td>
</tr>
<tr>
<td><code>victron/[serial]/H20</code></td>
<td>R</td>
<td>Yield today</td>
<td>Kilo watt hours (kWh)</td>
</tr>
<tr>
<td><code>victron/[serial]/H21</code></td>
<td>R</td>
<td>Maximum power today</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>victron/[serial]/H22</code></td>
<td>R</td>
<td>Yield yesterday</td>
<td>Kilo watt hours (kWh)</td>
</tr>
<tr>
<td><code>victron/[serial]/H23</code></td>
<td>R</td>
<td>Maximum power yesterday</td>
<td>Watt (W)</td>
</tr>
</tbody>
</table>
<h2 id="pylontech-battery-topics">(Pylontech) Battery topics</h2>
<div class="admonition warning">
<p class="admonition-title">Incomplete</p>
<p>In particular, topics specific to the JK BMS and Victron SmartShunt are not
yet documented.</p>
</div>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>battery/settings/chargeVoltage</code></td>
<td>R</td>
<td>Voltage</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>battery/settings/chargeCurrentLimitation</code></td>
<td>R</td>
<td>BMS requested max. charge current</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>battery/settings/dischargeCurrentLimitation</code></td>
<td>R</td>
<td>BMS requested max. discharge current</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>battery/stateOfCharge</code></td>
<td>R</td>
<td>State of Health</td>
<td>%</td>
</tr>
<tr>
<td><code>battery/stateOfHealth</code></td>
<td>R</td>
<td>State of Charge</td>
<td>%</td>
</tr>
<tr>
<td><code>battery/dataAge</code></td>
<td>R</td>
<td>How old the data is</td>
<td>Seconds</td>
</tr>
<tr>
<td><code>battery/voltage</code></td>
<td>R</td>
<td>Actual voltage</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>battery/current</code></td>
<td>R</td>
<td>Actual current</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>battery/temperature</code></td>
<td>R</td>
<td>Actual temperature</td>
<td>°C</td>
</tr>
<tr>
<td><code>battery/alarm/overCurrentDischarge</code></td>
<td>R</td>
<td>Alarm: High discharge current</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/alarm/underTemperature</code></td>
<td>R</td>
<td>Alarm: Low temperature</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/alarm/overTemperature</code></td>
<td>R</td>
<td>Alarm: High temperature</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/alarm/underVoltage</code></td>
<td>R</td>
<td>Alarm: Low voltage</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/alarm/overVoltage</code></td>
<td>R</td>
<td>Alarm: High voltage</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/alarm/bmsInternal</code></td>
<td>R</td>
<td>Alarm: BMS internal</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/alarm/overCurrentCharge</code></td>
<td>R</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>battery/warning/highCurrentDischarge</code></td>
<td>R</td>
<td>Warning: High discharge current</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/warning/lowTemperature</code></td>
<td>R</td>
<td>Warning: Low temperature</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/warning/highTemperature</code></td>
<td>R</td>
<td>Warning: High temperature</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/warning/lowVoltage</code></td>
<td>R</td>
<td>Warning: Low voltage</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/warning/highVoltage</code></td>
<td>R</td>
<td>Warning: High voltage</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/warning/bmsInternal</code></td>
<td>R</td>
<td>Warning: BMS internal</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/manufacturer</code></td>
<td>R</td>
<td>Manufacturer</td>
<td>String</td>
</tr>
<tr>
<td><code>battery/charging/chargeEnabled</code></td>
<td>R</td>
<td>Charge enabled flag</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/charging/dischargeEnabled</code></td>
<td>R</td>
<td>Discharge enabled flag</td>
<td>0 / 1</td>
</tr>
<tr>
<td><code>battery/charging/chargeImmediately</code></td>
<td>R</td>
<td>Charge immediately flag</td>
<td>0 / 1</td>
</tr>
</tbody>
</table>
<h2 id="huawei-ac-charger-topics">Huawei AC charger topics</h2>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value / Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>huawei/cmd/limit_online_voltage</code></td>
<td>W</td>
<td>Online voltage (i.e. CAN bus connected)</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>huawei/cmd/limit_online_current</code></td>
<td>W</td>
<td>Online current (i.e. CAN bus connected)</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>huawei/cmd/limit_offline_voltage</code></td>
<td>W</td>
<td>Offline voltage (i.e. CAN bus not connected)</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>huawei/cmd/limit_offline_current</code></td>
<td>W</td>
<td>Offline current (i.e. CAN bus not connected)</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>huawei/cmd/mode</code></td>
<td>W</td>
<td>Controls GPIO output pin to switch slot detect</td>
<td>0 (off) / 1 (on) / 2 (set automatically depending on online_current value) / 3 (set automatically based on Power Meter reading )</td>
</tr>
<tr>
<td><code>huawei/mode</code></td>
<td>R</td>
<td>Currently set charging mode</td>
<td>see above</td>
</tr>
<tr>
<td><code>huawei/data_age</code></td>
<td>R</td>
<td>How old the data is</td>
<td>Seconds</td>
</tr>
<tr>
<td><code>huawei/input_voltage</code></td>
<td>R</td>
<td>Input voltage</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>huawei/input_current</code></td>
<td>R</td>
<td>Input current</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>huawei/input_power</code></td>
<td>R</td>
<td>Input power</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>huawei/output_voltage</code></td>
<td>R</td>
<td>Output voltage</td>
<td>Volt (V)</td>
</tr>
<tr>
<td><code>huawei/output_current</code></td>
<td>R</td>
<td>Output current</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>huawei/max_output_current</code></td>
<td>R</td>
<td>Maximum output current (set using the online limit)</td>
<td>Ampere (A)</td>
</tr>
<tr>
<td><code>huawei/output_power</code></td>
<td>R</td>
<td>Output power</td>
<td>Watt (W)</td>
</tr>
<tr>
<td><code>huawei/input_temp</code></td>
<td>R</td>
<td>Input air temperature</td>
<td>°C</td>
</tr>
<tr>
<td><code>huawei/output_temp</code></td>
<td>R</td>
<td>Output air temperature</td>
<td>°C</td>
</tr>
<tr>
<td><code>huawei/efficiency</code></td>
<td>R</td>
<td>Efficiency</td>
<td>Percentage</td>
</tr>
</tbody>
</table>
<h2 id="power-limiter-topics">Power Limiter topics</h2>
<h3 id="general_1">General</h3>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>powerlimiter/status/upper_power_limit</code></td>
<td>R</td>
<td>get currently set maximum power limit of inverter</td>
<td>Power [W]</td>
</tr>
<tr>
<td><code>powerlimiter/cmd/upper_power_limit</code></td>
<td>W</td>
<td>set maximum power limit of inverter</td>
<td>Power [W]</td>
</tr>
<tr>
<td><code>powerlimiter/status/target_power_consumption</code></td>
<td>R</td>
<td>get currently set target grid consumption</td>
<td>Power [W]</td>
</tr>
<tr>
<td><code>powerlimiter/cmd/target_power_consumption</code></td>
<td>W</td>
<td>set target grid consumption</td>
<td>Power [W]</td>
</tr>
</tbody>
</table>
<h3 id="battery-thresholds">Battery Thresholds</h3>
<p>If the inverter is solar-powered, none of the thresholds are published and
publishing to the respective <code>cmd</code> topic has no effect.</p>
<p>Note that, depending on your settings, some of the thresholds might have no
effect. Refer to the <a href="https://github.com/hoylabs/OpenDTU-OnBattery/wiki/Dynamic-Power-Limiter">DPL
documentation</a>
to understand the thresholds.</p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Limitation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>powerlimiter/status/threshold/voltage/start</code></td>
<td></td>
</tr>
<tr>
<td><code>powerlimiter/status/threshold/voltage/stop</code></td>
<td></td>
</tr>
<tr>
<td><code>powerlimiter/status/threshold/voltage/full_solar_passthrough_start</code></td>
<td>Not published if VE.Direct disabled</td>
</tr>
<tr>
<td><code>powerlimiter/status/threshold/voltage/full_solar_passthrough_stop</code></td>
<td>Not published if VE.Direct disabled</td>
</tr>
<tr>
<td><code>powerlimiter/status/threshold/soc/start</code></td>
<td>Not published if no battery interface configured or SoC is set to be ignored</td>
</tr>
<tr>
<td><code>powerlimiter/status/threshold/soc/stop</code></td>
<td>Not published if no battery interface configured or SoC is set to be ignored</td>
</tr>
<tr>
<td><code>powerlimiter/status/threshold/soc/full_solar_passthrough</code></td>
<td>Not published if no battery interface configured or SoC is set to be ignored or VE.Direct disabled</td>
</tr>
</tbody>
</table>
<p>All thresholds have respective <code>cmd</code> topics (replace <code>status</code> with <code>cmd</code>),
which allow to override the threshold. The overrides are persistent, i.e., new
values are written to the persistent configuration file.</p>
<p>Example: Use topic <code>powerlimiter/cmd/threshold/voltage/start</code> to override the
battery discharge cycle start voltage threshold.</p>
<h3 id="mode">Mode</h3>
<table>
<thead>
<tr>
<th>Topic</th>
<th>R / W</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>powerlimiter/cmd/mode</code></td>
<td>W</td>
<td>Power Limiter operation mode</td>
<td>see below</td>
</tr>
<tr>
<td><code>powerlimiter/status/mode</code></td>
<td>R</td>
<td>Get Power Limiter operation mode</td>
<td>see below</td>
</tr>
</tbody>
</table>
<p>Setting any a mode through MQTT has <em>no</em> effect if the Power Limiter is
disabled by configuration in the web application. The Power Limiter will stay
off in that case.</p>
<p>When using the web application to change DPL settings, the DPL mode will be
reset to <em>normal operation</em>.</p>
<p>Three modes are implemented:</p>
<ul>
<li><strong>0</strong> - Normal operation: The Power Limiter works as configured through the
  web application.</li>
<li><strong>1</strong> - Fully disable with inverter shut down: The inverter is shut down and
  afterwards the Power Limiter stops operating, as if it was disabled in the
  web application. Note that this means that the inverter can start producing
  power if the web application or an MQTT topic is used to control it.</li>
<li><strong>2</strong> - Unconditional Full Solar-Passthrough: The power limits are set such
  that all available solar power is fed into the home, irrespective of grid
  consumption. Essentially, the inverters mimic the behavior of traditional,
  non-smart inverters. Depending on your configuration, the inverters' limits
  are set to the following:<ol>
<li><strong>Battery-powered inverters</strong>: The inverters' limits are set to match
   the solar power output (VE.Direct interface), adjusted for efficiency,
   such that no energy from the battery is consumed. Note that if VE.Direct
   is disabled or the data is outdated, the inverters are shut down
   instead. This mode can be particularly useful in scenarios where solar
   power is better stored elsewhere, such as in an electric car.</li>
<li><strong>Solar-powered inverters</strong>: The inverters' limits are set to the
   respective upper limit configured in the DPL settings (starting from
   release 2024.05.03).</li>
</ol>
</li>
</ul>
<h3 id="timeout-counter">Timeout Counter</h3>
<div class="admonition note">
<p class="admonition-title">Availability</p>
<p>Starting from release 2024.05.03.</p>
</div>
<p>The DPL counts the amount of times an attempt to configure an inverter to a
particular state times out. This counter is used to decide to sent an inverter
restart command, hoping to "revive" the inverter. If the counter keeps
increasing even after multiple restart commands have been issued, the ESP
restarts as a last resort. The thresholds to perform these actions are hard
coded to 10 and 20 timeouts, respectively.</p>
<p>Topic <code>powerlimiter/status/inverter_update_timeouts</code> can be monitored to be
alerted by these timeouts.</p>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="Last update">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">March 6, 2025 13:35:25</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="Created">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">December 29, 2023 18:38:20</span>
</span>
</aside>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      © 2024 OpenDTU Community – based on <a href="https://opendtu.solar" target="_blank">OpenDTU</a>
</div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/hoylabs/OpenDTU-OnBattery/discussions" rel="noopener" target="_blank" title="GitHub Discussions">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path></svg>
</a>
<a class="md-social__link" href="https://discord.gg/WzhxEY62mB" rel="noopener" target="_blank" title="Discord Chat">
<svg viewbox="0 0 640 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.path", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "toc.follow", "navigation.path", "search.suggest", "content.tooltips", "content.action.edit", "content.action.view"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
<script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
<script src="../../assets/javascript/tablesort.js"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script><script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>